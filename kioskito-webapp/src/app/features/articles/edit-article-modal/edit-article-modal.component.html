<div class="edit-article-dialog">
  <!-- Encabezado -->
  <div class="dialog-header">
    <h2 class="dialog-title">
      <mat-icon class="title-icon">edit</mat-icon>
      Editar Artículo
    </h2>
    <button mat-icon-button (click)="cancel()" class="close-btn">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <!-- Contenido -->
  <mat-dialog-content class="dialog-content">
    <form [formGroup]="form">
      <!-- Tarjeta de Información Básica -->
      <mat-card class="info-card">
        <mat-card-header>
          <mat-card-title>
            <mat-icon class="card-icon">inventory_2</mat-icon>
            Información del Artículo
          </mat-card-title>
        </mat-card-header>
        <mat-divider></mat-divider>
        <mat-card-content class="card-content">
          <div class="form-grid">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Nombre</mat-label>
              <input matInput formControlName="name" required>
              <mat-icon matPrefix>label</mat-icon>
              <mat-error *ngIf="form.get('name')?.hasError('required')">
                El nombre es requerido
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="full-width">
              <mat-label>SKU</mat-label>
              <input matInput formControlName="sku">
              <mat-icon matPrefix>qr_code</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Descripción</mat-label>
              <textarea matInput formControlName="description" rows="3"></textarea>
              <mat-icon matPrefix>description</mat-icon>
            </mat-form-field>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Tarjeta de Precios -->
      <mat-card class="info-card">
        <mat-card-header>
          <mat-card-title>
            <mat-icon class="card-icon">attach_money</mat-icon>
            Precios
          </mat-card-title>
        </mat-card-header>
        <mat-divider></mat-divider>
        <mat-card-content class="card-content">
          <div class="form-grid">
            <mat-form-field appearance="outline">
              <mat-label>Precio de Venta</mat-label>
              <input matInput type="number" formControlName="salePrice" required>
              <mat-icon matPrefix>sell</mat-icon>
              <mat-error *ngIf="form.get('salePrice')?.hasError('required')">
                El precio de venta es requerido
              </mat-error>
              <mat-error *ngIf="form.get('salePrice')?.hasError('min')">
                Debe ser mayor a 0
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Precio Consignación</mat-label>
              <input matInput type="number" formControlName="consignmentPrice">
              <mat-icon matPrefix>handshake</mat-icon>
              <mat-error *ngIf="form.get('consignmentPrice')?.hasError('min')">
                Debe ser mayor a 0
              </mat-error>
            </mat-form-field>
          </div>
        </mat-card-content>
      </mat-card>
    </form>
  </mat-dialog-content>

  <!-- Acciones -->
  <div class="dialog-actions">
    <button mat-button (click)="cancel()" class="btn-cancel">
      <mat-icon>close</mat-icon>
      Cancelar
    </button>
    <button mat-raised-button 
            [disabled]="!isFormValid" 
            (click)="save()" 
            class="btn-save">
      <mat-icon>save</mat-icon>
      Guardar Cambios
    </button>
  </div>
</div>
